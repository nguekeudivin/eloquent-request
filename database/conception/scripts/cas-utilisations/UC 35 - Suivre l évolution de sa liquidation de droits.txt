title UC 35 - Suivre l évolution de sa liquidation de droits

Acteurs: Mutualiste
Lifelines:
  Mutualiste
  Interface Utilisateur (UI)
  Système de Gestion Liquidations (Backend/Système)
  Base de Données (DB)

Flux:
  Mutualiste -> UI: Se connecter à son espace personnel (UC 1)
  Mutualiste -> UI: Naviguer vers section "Mes Liquidations" / "Suivi de mes droits"

  UI -> Système de Gestion Liquidations: Demander procédures liquidation associées [ID Mutualiste]

  Système de Gestion Liquidations -> DB: Interroger base pour procédures liquidations du mutualiste/ayants droit [ID Mutualiste]

  Alt [Procédures trouvées]
    DB --> Système de Gestion Liquidations: Retourner liste des procédures (ou une si une seule pertinente)
    Système de Gestion Liquidations --> UI: Envoyer liste des procédures (Sommaire: ID, Événement, Statut simplifié)
    UI --> Mutualiste: Afficher liste sommaire (ou vue détaillée si une seule)

    Opt [Liste affichée, pas vue détaillée d'emblée]
      Mutualiste -> UI: Sélectionner une procédure [ID Procédure]
      UI -> Système de Gestion Liquidations: Demander informations détaillées procédure [ID Procédure]

    [Reprise du flux pour affichage détaillé]
    Système de Gestion Liquidations -> DB: Récupérer informations détaillées procédure (Statut, Dates, Étapes clés, Montant calculé communicable) [ID Procédure]

    Alt [Procédure sélectionnée trouvée]
      DB --> Système de Gestion Liquidations: Retourner données détaillées
      Système de Gestion Liquidations --> UI: Envoyer informations détaillées (formatées pour Mutualiste)
      UI --> Mutualiste: Afficher vue détaillée du suivi de la liquidation (Statut simplifié, Étapes, Montant si communicable)

    Alt [Procédure sélectionnée introuvable (Alt A2)]
      Système de Gestion Liquidations --> UI: Indiquer erreur (Procédure introuvable)
      UI --> Mutualiste: Afficher message d'erreur / Retour liste

  Alt [Aucune procédure trouvée (Alt A1)]
    DB --> Système de Gestion Liquidations: Indiquer liste vide
    Système de Gestion Liquidations --> UI: Indiquer liste vide
    UI --> Mutualiste: Afficher message "Aucune procédure de liquidation enregistrée"

  Alt [Erreur Système lors récupération (Exc E1)]
    Système de Gestion Liquidations -> Système de Gestion Liquidations: Enregistrer log d'erreur technique
    Système de Gestion Liquidations --> UI: Indiquer Échec Technique
    UI --> Mutualiste: Afficher message d'erreur générique
