title UC 40 - Visualiser l état des prêts de matériels

Acteurs: Administrateur
Lifelines:
  Administrateur
  Interface Administration (UI Admin)
  Système de Gestion Prêts Matériel (Backend/Système)
  Base de Données (DB)

Flux:
  Administrateur -> UI Admin: Accéder section gestion prêts matériel / inventaire
  Administrateur -> UI Admin: Sélectionner option "Matériels prêtés" / Appliquer filtre statut "Prêté"

  UI Admin -> Système de Gestion Prêts Matériel: Demander liste des prêts de matériel actifs

  Système de Gestion Prêts Matériel -> DB: Interroger base pour prêts matériel statut "Prêté"
  Alt [Prêts actifs trouvés]
    DB --> Système de Gestion Prêts Matériel: Retourner liste des prêts actifs
    Système de Gestion Prêts Matériel --> UI Admin: Envoyer liste des prêts actifs (avec infos clés: Matériel, Mutualiste, Dates prêt/retour, Retard)
    UI Admin --> Administrateur: Afficher le tableau/la liste des matériels prêtés

  Alt [Aucun matériel prêté (Alt A1)]
    DB --> Système de Gestion Prêts Matériel: Indiquer liste vide
    Système de Gestion Prêts Matériel --> UI Admin: Indiquer liste vide
    UI Admin --> Administrateur: Afficher message "Aucun matériel actuellement prêté" ou liste vide

  Alt [Erreur Système lors récupération (Exc E1)]
    Système de Gestion Prêts Matériel -> Système de Gestion Prêts Matériel: Enregistrer log d'erreur technique
    Système de Gestion Prêts Matériel --> UI Admin: Indiquer Échec Technique
    UI Admin --> Administrateur: Afficher message d'erreur générique
