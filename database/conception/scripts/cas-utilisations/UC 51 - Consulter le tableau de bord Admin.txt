title UC 51 - Consulter le tableau de bord (Admin)

Acteurs: Administrateur
Lifelines:
  Administrateur
  Interface Administration (UI Admin)
  Système de Tableau de Bord (Backend/Système)
  Base de Données (DB)
  Module Adhérents (Backend/Système)
  Module Cotisations (Backend/Système)
  Module Prêts (Backend/Système)
  Module Prises En Charge (Backend/Système)
  Module Réclamations (Backend/Système)
  Module Prêts Matériel (Backend/Système)
  Système Messagerie Interne (Backend/Système)
  Système Alertes (Backend/Système)

Flux:
  Administrateur -> UI Admin: Se connecter à l'interface d'administration (UC 1 implicite)
  Administrateur -> UI Admin: Accéder au Tableau de Bord (par défaut ou navigation)

  UI Admin -> Système de Tableau de Bord: Demander les informations pour le Tableau de Bord Admin [ID Administrateur]

  Système de Tableau de Bord -> Système de Tableau de Bord: Identifier les widgets/données accessibles selon les droits de l'Admin [ID Administrateur]

  ' Récupération des données pour les différents widgets/indicateurs (en parallèle conceptuel)
  fork
    Système de Tableau de Bord -> Module Adhérents: Demander statistiques adhérents (actifs, nouveaux, etc.)
    Module Adhérents --> Système de Tableau de Bord: Retourner stats
  fork again
    Système de Tableau de Bord -> Module Cotisations: Demander suivi cotisations (perçu, impayés récents)
    Module Cotisations --> Système de Tableau de Bord: Retourner données
  fork again
    Système de Tableau de Bord -> Module Prêts: Demander vue d'ensemble prêts (encours, accordés, retard)
    Module Prêts --> Système de Tableau de Bord: Retourner données
  fork again
    Système de Tableau de Bord -> Module Prises En Charge: Demander suivi prises en charge (en attente, coûts, top prestations)
    Module Prises En Charge --> Système de Tableau de Bord: Retourner données
  fork again
    Système de Tableau de Bord -> Module Réclamations: Demander suivi réclamations (ouvertes, récentes)
    Module Réclamations --> Système de Tableau de Bord: Retourner données
  fork again
    Système de Tableau de Bord -> Module Prêts Matériel: Demander suivi prêts matériels (prêtés, en retard)
    Module Prêts Matériel --> Système de Tableau de Bord: Retourner données
  fork again
    Système de Tableau de Bord -> Système Messagerie Interne: Demander indicateur nouveaux messages mutualistes
    Système Messagerie Interne --> Système de Tableau de Bord: Retourner indicateur
  fork again
    Système de Tableau de Bord -> Système Alertes: Demander alertes système en cours
    Système Alertes --> Système de Tableau de Bord: Retourner alertes
  end fork

  Système de Tableau de Bord -> Système de Tableau de Bord: Consolider et organiser toutes les données reçues
  Système de Tableau de Bord --> UI Admin: Envoyer toutes les données agrégées pour affichage
  UI Admin --> Administrateur: Afficher le Tableau de Bord Admin avec les différents widgets/indicateurs

  Alt [Aucune donnée pour un indicateur (Alt A1)]
    Module XXX --> Système de Tableau de Bord: Retourner aucune donnée ou liste vide
    Système de Tableau de Bord --> UI Admin: Envoyer indicateur ou widget vide
    UI Admin --> Administrateur: Afficher widget avec message "Aucune donnée..."

  Alt [Erreur Système lors chargement (Exc E1)]
    Module XXX --> Système de Tableau de Bord: Signaler erreur
    Système de Tableau de Bord -> Système de Tableau de Bord: Enregistrer log erreur technique
    Système de Tableau de Bord --> UI Admin: Indiquer Échec partiel ou total du chargement
    UI Admin --> Administrateur: Afficher Tableau de Bord partiel ou message d'erreur
