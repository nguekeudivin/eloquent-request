title UC 29 - Visualiser les prises en charge

Acteurs: Administrateur
Lifelines:
  Administrateur
  Interface Administration (UI Admin)
  Système Gestion Prises En Charge (Backend/Système)
  Base de Données (DB)

Flux:
  Administrateur -> UI Admin: Se connecter à interface administration
  Administrateur -> UI Admin: Naviguer vers section gestion/consultation prises en charge
  Administrateur -> UI Admin: Sélectionner option "Voir toutes les prises en charge"

  UI Admin -> Système Gestion Prises En Charge: Demander liste de toutes les prises en charge

  Système Gestion Prises En Charge -> DB: Interroger base pour récupérer tous les enregistrements de prises en charge
  Alt [Prises en charge trouvées (Alt A1 si aucune)]
    DB --> Système Gestion Prises En Charge: Retourner liste des prises en charge
    Système Gestion Prises En Charge --> UI Admin: Envoyer liste des prises en charge (Infos clés: Référence, Date, Prestation, Mutualiste, Montants, Statut...)
    UI Admin --> Administrateur: Afficher le tableau/la liste des prises en charge

    Opt [Administrateur utilise tri/filtres/recherche]
      Administrateur -> UI Admin: Appliquer tri/filtres/recherche
      UI Admin -> Système Gestion Prises En Charge: Envoyer requête avec critères de tri/filtres/recherche
      Système Gestion Prises En Charge -> DB: Interroger DB avec critères
      DB --> Système Gestion Prises En Charge: Retourner liste filtrée/triée
      Système Gestion Prises En Charge --> UI Admin: Envoyer liste actualisée
      UI Admin --> Administrateur: Afficher liste actualisée

  Alt [Aucune prise en charge trouvée (Alt A1)]
    DB --> Système Gestion Prises En Charge: Indiquer liste vide
    Système Gestion Prises En Charge --> UI Admin: Indiquer liste vide
    UI Admin --> Administrateur: Afficher message "Aucune prise en charge enregistrée..." ou liste vide

  Alt [Erreur Système lors récupération (Exc E1)]
    Système Gestion Prises En Charge -> Système Gestion Prises En Charge: Enregistrer log erreur
    Système Gestion Prises En Charge --> UI Admin: Indiquer Échec Technique
    UI Admin --> Administrateur: Afficher message générique
