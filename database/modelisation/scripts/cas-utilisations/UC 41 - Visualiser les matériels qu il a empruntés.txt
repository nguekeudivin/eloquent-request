title UC 41 - Visualiser les matériels qu il a empruntés

Acteurs: Mutualiste
Lifelines:
  Mutualiste
  Interface Utilisateur (UI)
  Système de Gestion Prêts Matériel (Backend/Système)
  Base de Données (DB)

Flux:
  Mutualiste -> UI: Se connecter à son espace personnel (UC 1)
  Mutualiste -> UI: Naviguer vers section "Mes Emprunts de Matériel"

  UI -> Système de Gestion Prêts Matériel: Demander liste des prêts de matériel actifs pour ce mutualiste [ID Mutualiste]

  Système de Gestion Prêts Matériel -> DB: Interroger base pour prêts matériel statut "Prêté" et associés à ce mutualiste [ID Mutualiste]

  Alt [Prêts actifs trouvés pour ce mutualiste]
    DB --> Système de Gestion Prêts Matériel: Retourner liste des prêts actifs
    Système de Gestion Prêts Matériel --> UI: Envoyer liste des prêts actifs (avec infos clés: Matériel, Dates prêt/retour, Retard, Infos sup.)
    UI --> Mutualiste: Afficher la liste des matériels actuellement empruntés

  Alt [Aucun matériel emprunté (Alt A1)]
    DB --> Système de Gestion Prêts Matériel: Indiquer liste vide
    Système de Gestion Prêts Matériel --> UI: Indiquer liste vide
    UI --> Mutualiste: Afficher message "Aucun matériel emprunté actuellement" ou liste vide

  Alt [Erreur Système lors récupération (Exc E1)]
    Système de Gestion Prêts Matériel -> Système de Gestion Prêts Matériel: Enregistrer log d'erreur technique
    Système de Gestion Prêts Matériel --> UI: Indiquer Échec Technique
    UI --> Mutualiste: Afficher message d'erreur générique
