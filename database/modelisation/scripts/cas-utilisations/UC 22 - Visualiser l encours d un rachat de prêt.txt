title UC 22 - Visualiser l encours d un rachat de prêt

Acteurs: Administrateur
Lifelines:
  Administrateur
  Interface Administration (UI Admin)
  Système de Gestion Rachats (Backend/Système)
  Base de Données (DB)

Flux:
  Administrateur -> UI Admin: Accéder section gestion rachats de prêts
  Administrateur -> UI Admin: Rechercher/Sélectionner un rachat de prêt [ID Rachat]

  UI Admin -> Système de Gestion Rachats: Demander informations et encours rachat [ID Rachat]

  Système de Gestion Rachats -> DB: Récupérer données rachat, historique paiements rachat, échéancier rachat [ID Rachat]

  Alt [Rachat de prêt trouvé et accessible]
    DB --> Système de Gestion Rachats: Retourner données rachat
    Système de Gestion Rachats -> Système de Gestion Rachats: Calculer encours restant dû du rachat
    Système de Gestion Rachats --> UI Admin: Envoyer informations résumées et encours calculé du rachat
    UI Admin --> Administrateur: Afficher vue résumée du rachat de prêt avec encours et détails clés

  Alt [Rachat de prêt introuvable/non accessible (Alt A1)]
    DB --> Système de Gestion Rachats: Indiquer rachat non trouvé/non accessible
    Système de Gestion Rachats --> UI Admin: Indiquer erreur (rachat introuvable/non accessible)
    UI Admin --> Administrateur: Afficher message d'erreur

  Alt [Erreur Système lors récupération/calcul (Exc E1)]
    Système de Gestion Rachats -> Système de Gestion Rachats: Enregistrer log d'erreur technique
    Système de Gestion Rachats --> UI Admin: Indiquer Échec Technique
    UI Admin --> Administrateur: Afficher message d'erreur générique
